{"version":3,"sources":["img/w512h5121371227427events.png","components/Notification.jsx","components/NotificationCenter.jsx","components/UserCard.jsx","components/Header.jsx","components/Friend.jsx","components/NotAFriend.jsx","components/FriendsMainBox.jsx","pages/Friends.jsx","components/Dialogue.jsx","components/Message.jsx","components/DialoguesMainBox.jsx","pages/Dialogues.jsx","components/EventMember.jsx","components/FriendForEvent.jsx","pages/Event.jsx","components/IconsGrid.jsx","pages/CreateEvent.jsx","pages/Login.jsx","components/EventIcon.jsx","components/Day.jsx","components/Month.jsx","components/EventList.jsx","pages/Calendar.jsx","App.js","index.js"],"names":["module","exports","NotificationList","props","removeInvite","state","invite","id","this","handleInvite","action","console","log","fetch","$oid","method","then","response","statusText","content","type","sender_name","event_name","className","Button","color","onClick","accept","fontSize","decline","React","Component","NotificationCenter","invites","toggle","bind","getInvites","ok","json","data","setState","widget","filter","value","listItems","map","val","key","variant","size","length","ref","UserCard","userName","user","name","pictureUrl","profile_pic","updateUser","exit","window","location","replace","Grid","container","alt","round","src","item","Card","Typography","gutterBottom","Header","getCurrentUser","user_id","email","birthday","userCard","Navbar","bg","Brand","to","Toggle","aria-controls","Collapse","Nav","Link","Form","inline","Friend","removeFriend","friend","deleteFriend","NotAFriend","sendInvite","bodyJSON","JSON","stringify","headers","body","_id","FriendsMainBox","friends","users","getUsers","getFriends","searchUsers","search","document","getElementById","listItems2","class","placeholder","onChange","Friends","Dialogue","width","height","Message","DialoguesMainBox","Dialogues","EventMember","avatar","FriendForEvent","eventID","Event","access","match","params","eventAvatarUrl","EventAvatar","eventTitle","eventFullDesr","eventShortDescr","isPrivate","datetime","Date","address","members","chatID","icon","description","short_descr","is_private","chat_id","member_id_list","myFriends","inviteFriends","deleteEvent","style","display","status","listFriends","gridColumn","IconsGrid","selectedElement","selected","selectChanged","select","changeIcon","border","el","borderRadius","CreateEvent","day","month","year","privateChange","typeChange","sendNewEvent","nameChange","addressChange","descriptionChange","changeSelectedIcon","event","target","newicon","horizontal","Login","isAuth","get","signIn","EventIcon","time","hidden","info","eventId","onMouseEnter","toggleInfo","onMouseLeave","Day","events","updateEventListData","updateEvents","icons","opacity","options","weekday","hour","minute","$date","toLocaleString","createEvent","Month","countDays","monthDays","firstDayOfWeek","firstWeekDay","userID","updateMonthAndYear","getEvents","curMonth","curYear","Object","entries","days","firstDay","countDaysPrevMonth","i","push","prevMonth","nextMonth","prevYear","nextYear","y","m","leap","getDay","EventList","Calendar","eventsInEventsList","curDate","getFullYear","getMonth","Routing","path","component","ReactDOM","render"],"mappings":"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","file":"static/js/main.88d0c020.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/w512h5121371227427events.c6e75c47.png\";","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport EventIcon from '@material-ui/icons/Event';\r\nimport AccessibleIcon from '@material-ui/icons/Accessible';\r\n\r\nexport default class NotificationList extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.removeInvite = props.removeInvite;\r\n\r\n        this.state = {\r\n            invite: props.invite\r\n        };\r\n        \r\n    }\r\n\r\n    accept() {\r\n        const id = this.state.invite.id;\r\n        this.handleInvite(id, \"accept\");\r\n        this.removeInvite(id)\r\n    }\r\n\r\n    decline() {\r\n        const id = this.state.invite.id;\r\n        this.handleInvite(id, \"decline\");\r\n        this.removeInvite(id)\r\n    }\r\n\r\n    handleInvite(id, action) {\r\n        console.log(\"Зашел в отправить /invite\");\r\n        fetch(`/invite?id=${id.$oid}&action=${action}`, {method: 'DELETE'})\r\n            .then((response) => {\r\n                console.log(response.statusText);\r\n            });\r\n    }\r\n\r\n    render() {\r\n        const invite = this.state.invite;\r\n        let content;\r\n        if (invite.type === \"friend\") {\r\n            content = invite.sender_name + \" будет вашим другом?\";\r\n        } else {\r\n            content = \"Присоединитесь на \" + invite.event_name + \"?\";\r\n        }\r\n\r\n        return (\r\n            <div className=\"container\">\r\n                {invite.type === \"friend\" ? <AccessibleIcon className=\"type-icon\"/> :\r\n                    <EventIcon className=\"type-icon\"/>}\r\n                <div className=\"content\">{content}</div>\r\n                <Button color=\"primary\" className={\"accept-btn\"} onClick={() => this.accept()}>\r\n                    <CheckIcon fontSize={\"small\"}/>\r\n                </Button>\r\n                <Button color=\"secondary\" className={\"decline-btn\"} onClick={() => this.decline()}>\r\n                    <CloseIcon fontSize={\"small\"}/>\r\n                </Button>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from \"react\";\r\nimport Notification from \"./Notification\";\r\nimport \"../css/NotificationCenter.css\"\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\nimport NotificationsNoneIcon from \"@material-ui/core/SvgIcon/SvgIcon\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nexport default class NotificationCenter extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            invites: []\r\n        };\r\n\r\n        this.toggle = this.toggle.bind(this);\r\n        this.removeInvite = this.removeInvite.bind(this);\r\n        this.getInvites = this.getInvites.bind(this);\r\n\r\n        this.getInvites()\r\n\r\n    }\r\n\r\n    getInvites() {\r\n        fetch(\"/invites\").then((response) => {\r\n            if (response.ok) {\r\n                response.json().then((data) => {\r\n                    this.setState({\r\n                        invites: data ? data : []\r\n                    });\r\n                })\r\n            } else {\r\n                console.log(response.statusText);\r\n            }\r\n        });\r\n    }\r\n\r\n    toggle() {\r\n        this.widget.className === \"hide\" ? this.widget.className = \"show\"\r\n            : this.widget.className = \"hide\";\r\n    }\r\n\r\n    removeInvite(id) {\r\n        const invites = this.state.invites;\r\n\r\n        this.setState({invites: invites.filter(value => value.id !== id)});\r\n    }\r\n\r\n    render() {\r\n        const listItems = this.state.invites.map(\r\n            (val) => <Notification invite={val} key={val.id} removeInvite={this.removeInvite}/>);\r\n\r\n        return (\r\n            <>\r\n                <Button variant=\"contained\" color=\"primary\" size=\"small\" className={this.props.className}\r\n                        onClick={this.toggle}>\r\n                    {this.state.invites.length === 0 ? \"\" : this.state.invites.length}\r\n                    <NotificationsNoneIcon size=\"small\"/>\r\n                    <NotificationsIcon fontSize=\"small\" />\r\n                </Button>\r\n\r\n                <div ref={ref => this.widget = ref} className=\"hide\">\r\n                    {listItems}\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n\r\n}","import React from \"react\";\r\nimport Avatar from 'react-avatar';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { Card } from \"@material-ui/core\";\r\nimport \"../css/UserCard.css\"\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport ExitIcon from '@material-ui/icons/ExitToApp';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport NotificationCenter from \"./NotificationCenter\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\n\r\nexport default class UserCard extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            userName: props.user ? props.user.name : \"\",\r\n            pictureUrl: props.user ? props.user.profile_pic : \"\"\r\n        };\r\n\r\n        this.updateUser = this.updateUser.bind(this);\r\n        this.exit = this.exit.bind(this);\r\n    }\r\n\r\n    exit() {\r\n        fetch(\"/logout\").then((response) => {\r\n            window.location.replace(\"https://127.0.0.1:5000/\");\r\n        });\r\n        //return <Redirect push to='/' />; //не робит почему то\r\n    }\r\n    updateUser(user) {\r\n        this.setState({\r\n            userName: user ? user.name : \"\",\r\n            pictureUrl: user ? user.profile_pic : \"\"\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Grid container>\r\n                <Avatar alt={this.state.userName} size=\"55\" round={true} src={this.state.pictureUrl} />\r\n                <Grid item className=\"user-info\">\r\n                    <Card className=\"user-name\">\r\n                        <Typography className=\"card-title\" color=\"textSecondary\" gutterBottom>\r\n                            {this.state.userName}\r\n                        </Typography>\r\n                    </Card>\r\n                    <div className=\"buttons\">\r\n                        <NotificationCenter className=\"notifications-center\" />\r\n\r\n                        <Button variant=\"contained\" color=\"primary\" className=\"settings-btn\" size=\"small\"\r\n                            onClick={this.exit}>\r\n                            <ExitIcon fontSize=\"small\" />\r\n                        </Button>\r\n                    </div>\r\n                </Grid>\r\n            </Grid>\r\n        );\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport Navbar from \"react-bootstrap/Navbar\";\r\nimport Nav from \"react-bootstrap/Nav\";\r\nimport \"../css/Header.css\"\r\nimport Form from \"react-bootstrap/Form\";\r\nimport UserCard from \"./UserCard\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default class Header extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: null\r\n        };\r\n\r\n        this.getCurrentUser = this.getCurrentUser.bind(this);\r\n\r\n        this.getCurrentUser();\r\n    }\r\n\r\n    getCurrentUser() {\r\n        fetch(\"/user\").then((response) => {\r\n            if (response.ok){\r\n                response.json().then((data) => {\r\n                    this.setState({\r\n                        user: {\r\n                            user_id: data.id,\r\n                            name: data.name,\r\n                            email: data.email,\r\n                            profile_pic: data.profile_pic,\r\n                            birthday: data.birthday\r\n                        }\r\n                    });\r\n\r\n                    this.userCard.updateUser(this.state.user);\r\n                })\r\n            } else {\r\n                console.log(response.statusText);\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Navbar bg=\"dark\" variant=\"dark\" className=\"navbar\">\r\n                <Navbar.Brand className=\"navbar-brand\">\r\n                    <Link className=\"header-link\" to=\"../../../../../Calendar\">Social Calendar</Link>\r\n                </Navbar.Brand>\r\n                <Navbar.Toggle aria-controls=\"basic-navbar-nav\"/>\r\n                <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                    <Nav>\r\n                        <Nav.Link>\r\n                            <Link className=\"header-link\" to=\"../../../../../Calendar\">Календарь</Link>\r\n                        </Nav.Link>\r\n                        <Nav.Link>\r\n                            <Link className=\"header-link\" to=\"../../../../../Friends\">Друзья</Link>\r\n                        </Nav.Link>\r\n                        {/* <Nav.Link>\r\n                            <Link className=\"header-link\" to=\"../../../../../Dialogues\">Чаты</Link>\r\n                        </Nav.Link> */}\r\n                    </Nav>\r\n                </Navbar.Collapse>\r\n\r\n                <Form inline>\r\n                    <UserCard user={this.state.user} ref={ref => this.userCard = ref}/>\r\n                </Form>\r\n            </Navbar>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\nimport '../css/Friends.css';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\n\r\n\r\nexport default class Friend extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.removeFriend = props.removeFriend;\r\n\r\n        this.state = {\r\n            friend: props.friend\r\n        };\r\n    }\r\n\r\n    deleteFriend(id) {\r\n        fetch(`/friend?id=${id}`, {method: 'DELETE'})\r\n            .then((response) => {\r\n                if (response.ok){\r\n                    response.json().then((data) => {\r\n                        console.log(data);\r\n                    })\r\n                } else {\r\n                    console.log(response.statusText);\r\n                    }\r\n            });\r\n        this.removeFriend(id);\r\n    }\r\n\r\n    render() {\r\n        const friend = this.state.friend;\r\n\r\n        return (\r\n            <>\r\n                <li className=\"friend\">\r\n                    <div className=\"wrap\">\r\n                    <img className=\"friend-avatar\" src={friend.profile_pic} alt=\"аватарка друга\"/>\r\n                    <div className=\"friend-name\">{friend.name}</div>\r\n                    </div>\r\n                    <div className=\"wrap\">\r\n                        {/* <Button color=\"primary\" className=\"settings-btn\" variant=\"contained\">\r\n                            <ChatIcon fontSize=\"small\"/>\r\n                        </Button> */}\r\n                        <Button color=\"primary\" className=\"settings-btn\" variant=\"contained\" onClick={() => this.deleteFriend(friend.id.$oid)}>\r\n                            <DeleteIcon fontSize=\"small\"/>\r\n                        </Button>\r\n                    </div>\r\n                </li>\r\n            </>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\nimport '../css/Friends.css';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\n\r\n\r\nexport default class NotAFriend extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.sendInvite = props.sendInvite;\r\n\r\n        this.state = {\r\n            user: props.user\r\n        };\r\n    }\r\n\r\n    invite(id) {\r\n        var bodyJSON = JSON.stringify({ \"type\": \"friend\", \"receiver_id\": id.$oid })\r\n        fetch(\"/invite\",\r\n            { method: 'POST',\r\n            headers: {'Accept': 'application/json', 'Content-Type': 'application/json'},\r\n            body: bodyJSON}).then((response) => {\r\n                if (response.ok){\r\n                    response.json().then((data) => {\r\n                        console.log(data);\r\n                    })\r\n                } else {\r\n                    console.log(response.statusText);\r\n                }\r\n        });\r\n        this.sendInvite(id);\r\n    }\r\n\r\n    render() {\r\n        const user = this.state.user;\r\n\r\n        return (\r\n            <>\r\n                <li className=\"friend\">\r\n                    <div className=\"wrap\">\r\n                    <img className=\"friend-avatar\" src={user.profile_pic} alt=\"аватарка недруга\"/>\r\n                    <div className=\"friend-name\">{user.name}</div>\r\n                    </div>\r\n                    <div className=\"wrap\">\r\n                        {/* <Button color=\"primary\" className=\"settings-btn\" variant=\"contained\">\r\n                            <ChatIcon fontSize=\"small\"/>\r\n                        </Button> */}\r\n                        <Button color=\"primary\" className=\"settings-btn\" variant=\"contained\" onClick={() => this.invite(user._id)}>\r\n                            <PersonAddIcon fontSize=\"small\"/>\r\n                        </Button>\r\n                    </div>\r\n                </li>\r\n            </>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport '../css/Friends.css';\r\nimport Friend from \"../components/Friend\";\r\nimport NotAFriend from \"../components/NotAFriend\"\r\n\r\n\r\nexport default class FriendsMainBox extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            friends: [],\r\n            users: []\r\n        };\r\n        \r\n        this.getUsers = this.getUsers.bind(this);\r\n        this.getFriends = this.getFriends.bind(this);\r\n        this.removeFriend = this.removeFriend.bind(this);\r\n        this.searchUsers = this.searchUsers.bind(this);\r\n        this.sendInvite = this.sendInvite.bind(this);\r\n\r\n        this.getFriends();\r\n        this.getUsers();\r\n    }\r\n\r\n    getUsers(search) {\r\n        fetch(`/search/users?filtered_str=${search}`).then((response) => {\r\n            if (response.ok) {\r\n                response.json().then((data) => {\r\n                    this.setState({\r\n                        users: data\r\n                    });\r\n                })\r\n            } else {\r\n                console.log(response.statusText);\r\n                this.setState({\r\n                    users: []\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    getFriends() {\r\n        fetch(\"/friends\").then((response) => {\r\n            if (response.ok) {\r\n                response.json().then((data) => {\r\n                    this.setState({\r\n                        friends: data\r\n                    });\r\n                })\r\n            } else {\r\n                console.log(response.statusText);\r\n            }\r\n        });\r\n    }\r\n\r\n    sendInvite(id) {\r\n        // const users = this.state.users;\r\n        // this.setState({users: users.filter(user => user._id !== id)});\r\n    }\r\n\r\n    removeFriend(id) {\r\n        const friends = this.state.friends;\r\n        this.setState({friends: friends.filter(friend => friend.id.$oid != id)});\r\n    }\r\n\r\n    searchUsers() {\r\n        this.getUsers(document.getElementById(\"search\").value);\r\n    }\r\n\r\n    render() {\r\n        console.log(this.state);\r\n        const listItems = this.state.friends.map(\r\n            (val) => <Friend friend={val} key={val.id} removeFriend={this.removeFriend}/>);\r\n\r\n        const listItems2 = this.state.users.map(\r\n            (val) => <NotAFriend user={val} key={val.id} sendInvite={this.sendInvite}/>);\r\n\r\n        return (\r\n            <>\r\n            <div class=\"friends-main-box\">\r\n                <h4 class=\"friends\">Список друзей</h4>\r\n                <input placeholder=\"Поиск друзей\" type=\"text\" name=\"friends-search\" id=\"search\" onChange={this.searchUsers}/>\r\n                <ol class=\"friends-list\">\r\n                    {listItems}\r\n                    {listItems2}\r\n                </ol>\r\n            </div>\r\n            </>\r\n        );\r\n    }\r\n}","import React from \"react\";\r\nimport \"../css/Friends.css\";\r\nimport Header from \"../components/Header\";\r\nimport FriendsMainBox from \"../components/FriendsMainBox\";\r\n\r\n\r\nexport default class Friends extends React.Component {\r\n    render() {\r\n        return (\r\n            <>\r\n                <Header/>\r\n                <FriendsMainBox/>\r\n            </>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\nimport '../css/Dialogues.css';\r\n\r\n\r\nexport default class Dialogue extends React.Component {\r\n    render() {\r\n        return (\r\n            <>\r\n            <li class=\"dialogue\">\r\n                        \r\n                <div class=\"wrap\">\r\n                    <img class=\"dialogue-img\" src=\"../img/asd.png\" alt=\"аватарка беседы\"/>\r\n                    <div class=\"dialogue-content\">\r\n                        <div>\r\n                            Название беседы\r\n                        </div>\r\n                        <div class=\"wrap2\">\r\n                            <div class=\"wrap\">\r\n                                <img src=\"../img/asd.png\" width=\"15px\" height=\"15px\" alt=\"\"/>\r\n                                <div>\r\n                                    Последнее сообщение\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"time\">\r\n                                12:20\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </li>\r\n            </>\r\n            );\r\n        }\r\n    }\r\n","import React from 'react';\r\nimport '../css/Dialogues.css';\r\n\r\n\r\nexport default class Message extends React.Component {\r\n    render() {\r\n        return (\r\n            <>\r\n                <li class=\"wrap2\">\r\n                    <div class=\"message\">username1: message</div>\r\n                    <div class=\"time\">10:35</div>\r\n                </li>\r\n            </>\r\n            );\r\n        }\r\n    }","import React from 'react';\r\nimport '../css/Dialogues.css';\r\nimport Dialog from \"../components/Dialogue\";\r\nimport Message from \"../components/Message\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport SendIcon from '@material-ui/icons/Send';\r\n\r\n\r\n\r\nexport default class DialoguesMainBox extends React.Component {\r\n    render() {\r\n        return (\r\n    <>\r\n    <div class=\"dialogues-main-box\">\r\n        <div class=\"wrap3\">\r\n            <div class=\"dialogues-box\">\r\n                <h4 class=\"defoult-titel\">Список диалогов</h4>\r\n                <input placeholder=\"Поиск диалога...\" type=\"text\" class=\"text\" name=\"dialogue-search\"/>\r\n                <ol class=\"dialogues-list\">\r\n                    <Dialog/>\r\n                    <Dialog/>\r\n                    <Dialog/>\r\n                    <Dialog/>\r\n                    <Dialog/>\r\n                    <Dialog/>\r\n                    <Dialog/>\r\n                    <Dialog/>\r\n                </ol>\r\n            </div>\r\n            <div class=\"selected-dialog-box\">\r\n                <h4 class=\"defoult-titel\">Выбраный диалог (его название)</h4>\r\n                <ol class=\"message-list\">\r\n                    <Message/>\r\n                    <Message/>\r\n                    <Message/>\r\n                    <Message/>\r\n                    <Message/>\r\n                    <Message/>\r\n                    <Message/>\r\n                    <Message/>\r\n                    <Message/>\r\n                    <Message/>\r\n                    <Message/>\r\n                    <Message/>\r\n                    <Message/>\r\n                    <Message/>\r\n                    <Message/>\r\n                    <Message/>\r\n                    <Message/>\r\n                    <Message/>\r\n                    <Message/>\r\n                    <Message/>\r\n                    <Message/>\r\n                    <Message/>\r\n                    <Message/>\r\n                    <Message/>\r\n                    <Message/>\r\n                    <Message/>\r\n                    <Message/>\r\n                    <Message/>\r\n                    <Message/>\r\n                    <Message/>\r\n                    <Message/>\r\n                    <Message/>\r\n                </ol>\r\n                <div class=\"msg-area\">\r\n                    <textarea class=\"text\" placeholder=\"Введите сообщение...\" ></textarea>\r\n                    <Button color=\"primary\" className=\"settings-btn\" variant=\"contained\">\r\n                        <SendIcon/>\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    </>\r\n            );\r\n        }\r\n    }","import React from \"react\";\r\nimport \"../css/Dialogues.css\";\r\nimport Header from \"../components/Header\";\r\nimport DialoguesMainBox from \"../components/DialoguesMainBox\";\r\n\r\n\r\nexport default class Dialogues extends React.Component {\r\n    render() {\r\n        return (\r\n    <>\r\n    <Header/>\r\n    <DialoguesMainBox/>\r\n    </>\r\n        );\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport \"../css/EventMember.css\"\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default class EventMember extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            id: props.id.$oid,\r\n            avatar: \"https://www.meme-arsenal.com/memes/3904597739d704ee6d0688119ebeee15.jpg\",\r\n            name: \"Kalivan\"\r\n        };\r\n\r\n        fetch(`/member?id=${this.props.id.$oid}`).then((response) => {\r\n            if (response.ok) {\r\n                response.json().then((data) => {\r\n                    this.setState({\r\n                        name: data.name,\r\n                        avatar: data.profile_pic\r\n                    })\r\n                })\r\n            } else {\r\n                console.log(response.statusText);\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Link to={\"/Calendar/\" + this.state.id} className=\"event-member-link\">\r\n                <div className=\"event-member\">\r\n                    <img className=\"event-member-ava\" src={this.state.avatar} alt=\"Аватарка\" />\r\n                    <div className=\"event-member-name\">\r\n                        {this.state.name}\r\n                    </div>\r\n                </div>\r\n            </Link>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport '../css/Friends.css';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport AddIcon from '@material-ui/icons/Add';\r\n\r\nexport default class FriendForEvent extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            friend: props.friend\r\n        };\r\n        this.sendInvite = this.sendInvite.bind(this);\r\n    }\r\n\r\n    sendInvite() {\r\n        var bodyJSON = JSON.stringify({\r\n            \"type\": \"event\",\r\n            \"receiver_id\": this.state.friend.id.$oid,\r\n            \"event_id\": this.props.eventID\r\n        })\r\n        fetch(\"https://127.0.0.1:5000/invite\", {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: bodyJSON\r\n        }).then((response) => {\r\n            if (response.ok) {\r\n                response.json().then((data) => {\r\n                    console.log(\"ответ /invite POST: \" + data);\r\n                })\r\n            } else {\r\n                console.log(response.statusText);\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const friend = this.state.friend;\r\n        return (\r\n            <>\r\n                <li className=\"friend\">\r\n                    <div className=\"wrap\">\r\n                        <img className=\"friend-avatar\" src={friend.profile_pic} alt=\"аватарка друга\" />\r\n                        <div className=\"friend-name\">{friend.name}</div>\r\n                    </div>\r\n                    <div className=\"wrap\">\r\n                        <Button color=\"primary\" className=\"settings-btn\" variant=\"contained\" onClick={this.sendInvite}>\r\n                            <AddIcon fontSize=\"small\" />\r\n                        </Button>\r\n                    </div>\r\n                </li>\r\n            </>\r\n        );\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport \"../css/EventPage.css\";\r\nimport Header from \"../components/Header\"\r\nimport EventMember from \"../components/EventMember\"\r\nimport EventAvatar from \"../img/w512h5121371227427events.png\"\r\nimport Button from \"@material-ui/core/Button\";\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport FriendForEvent from \"../components/FriendForEvent\"\r\n\r\nexport default class Event extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            access: false,\r\n            eventID: this.props.match.params.id,\r\n            eventAvatarUrl: EventAvatar,\r\n            eventTitle: \"_eventTitle\",\r\n            eventFullDesr: \"_eventFullDesr\",\r\n            eventShortDescr: \"_eventShortDescr\",\r\n            isPrivate: false,\r\n            datetime: new Date(),\r\n            address: \"_address\",\r\n            members: [],\r\n            chatID: -1\r\n        };\r\n\r\n        fetch(`/event?id=${this.props.match.params.id}`).then((response) => {\r\n            if (response.ok) {\r\n                response.json().then((data) => {\r\n                    console.log(data);\r\n                    this.setState({\r\n                        access: true,\r\n                        eventAvatarUrl: data.icon,\r\n                        eventTitle: data.name,\r\n                        eventFullDesr: data.description,\r\n                        eventShortDescr: data.short_descr, //i eto\r\n                        isPrivate: data.is_private,\r\n                        datetime: data.datetime,\r\n                        address: data.address,\r\n                        chatID: data.chat_id,\r\n                        members: data.member_id_list,\r\n                        myFriends: []\r\n                        // members: typeof data.member_id_list === \"object\"\r\n                        //     ? [data.member_id_list[\"$oid\"]]\r\n                        //     : data.member_id_list\r\n                    });\r\n                });\r\n\r\n\r\n            } else {\r\n                console.log(response.statusText);\r\n                this.state.access = false;\r\n            }\r\n        });\r\n        this.inviteFriends = this.inviteFriends.bind(this);\r\n        this.deleteEvent = this.deleteEvent.bind(this);\r\n    }\r\n\r\n\r\n    inviteFriends() {\r\n        fetch(\"/friends\").then((response) => {\r\n            if (response.ok) {\r\n                response.json().then((data) => {\r\n                    this.setState({\r\n                        myFriends: data\r\n                    });\r\n                })\r\n            } else {\r\n                console.log(response.statusText);\r\n            }\r\n        });\r\n        document.getElementById(\"invite-friends\").style.display = 'flex';\r\n    }\r\n\r\n    deleteEvent() {\r\n        fetch(`/event?id=${this.state.eventID}`, {\r\n            method: 'DELETE'\r\n        }).then((response) => {\r\n            if (response.ok) { } else {\r\n                if (response.status == 403) {\r\n                    document.getElementById(\"confirm-delete\").style.display = 'none';\r\n                    document.getElementById(\"no-rules\").style.display = 'flex';\r\n                }\r\n            }\r\n\r\n        });\r\n        document.getElementById(\"confirm-delete\").style.display = 'none';\r\n\r\n        // window.location.replace(\"https://127.0.0.1:5000/\");\r\n    }\r\n\r\n    render() {\r\n        // && this.state.members\r\n        if (this.state.access) {\r\n            let listFriends, listItems;\r\n\r\n            if (this.state.members)\r\n                listItems = this.state.members.map((val) => <EventMember key={val} id={val} />);\r\n\r\n            if (this.state.myFriends)\r\n                listFriends = this.state.myFriends.map((val) => <FriendForEvent key={val} friend={val} eventID={this.state.eventID} />);\r\n\r\n            return (\r\n                <div className=\"page-container-event\">\r\n                    <Header />\r\n                    <main className=\"event\">\r\n                        <div className=\"event-box\">\r\n                            <div className=\"event-img-wrap event-page-wrap\">\r\n                                <img className=\"event-img\" src={this.state.eventAvatarUrl} alt=\"Аватарка\" />\r\n                            </div>\r\n                            <div className=\"event-title-descr event-page-wrap\">\r\n                                <div className=\"event-title-and-delete-btn\">\r\n                                    <h3 className=\"event-title\">{this.state.eventTitle}</h3>\r\n                                    <Button className=\"event-delete-btn\"\r\n                                        onClick={() => { document.getElementById(\"confirm-delete\").style.display = 'flex' }}>\r\n                                        <DeleteIcon />\r\n                                    </Button>\r\n                                </div>\r\n                                <div className=\"event-short-descr\">{this.state.eventShortDescr}</div>\r\n                            </div>\r\n\r\n                            {this.state.members ?\r\n                                <>\r\n                                    <div className=\"event-members event-page-wrap\">\r\n                                        <div className=\"event-members-top\">\r\n                                            <h4 className=\"members-title\">Участники</h4>\r\n                                            <Button color=\"primary\" className=\"event-members-top-btn\" variant=\"contained\"\r\n                                                onClick={this.inviteFriends}>\r\n                                                <AddIcon fontSize=\"small\" />\r\n                                            </Button>\r\n                                        </div>\r\n                                        <div className=\"members-list\">{listItems}</div>\r\n                                    </div>\r\n                                    <div id=\"event-body\" className=\"event-body event-page-wrap\" >\r\n                                        <h4 className=\"event-body-title\">Описание</h4>\r\n                                        <div className=\"event-full-descr\">{this.state.eventFullDesr}</div>\r\n                                    </div>\r\n                                </>\r\n                                : <>\r\n                                    <div id=\"event-body\" className=\"event-body event-page-wrap\" style={{ gridColumn: 'span 2' }}>\r\n                                        <h4 className=\"event-body-title\">Описание</h4>\r\n                                        <div className=\"event-full-descr\">{this.state.eventFullDesr}</div>\r\n                                    </div>\r\n                                </>\r\n                            }\r\n\r\n                        </div>\r\n                        <div className=\"chat-main-box\" style={{ display: 'none' }}>\r\n                            <h4 className=\"event-chat\">Чат</h4>\r\n                            <div className=\"chat-box\" />\r\n                        </div>\r\n                    </main>\r\n\r\n                    <div id=\"invite-friends\" className=\"invite-friends-shadow\" style={{ display: 'none' }}>\r\n                        <div className=\"invite-friends-window\">\r\n                            <h4 className=\"invite-friends-title\">Пригласить друзей</h4>\r\n                            <div className=\"friends-box\">\r\n                                {listFriends}\r\n                            </div>\r\n                            <div className=\"invite-friends-flex-row\">\r\n                                <Button color=\"primary\" className=\"invite-friends-close-btn\" variant=\"contained\"\r\n                                    onClick={() => { document.getElementById(\"invite-friends\").style.display = 'none' }} >\r\n                                    Закрыть\r\n                                </Button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div id=\"confirm-delete\" className=\"confirm-delete\" style={{ display: 'none' }}>\r\n                        <div className=\"confirm-delete-window\">\r\n                            <h3>Вы увернны, что хотите удалить данное событие безвозвратно?</h3>\r\n                            <div className=\"confirm-delete-btns\">\r\n                                <Button color=\"primary\" className=\"confirm-delete-yes\" variant=\"contained\"\r\n                                    onClick={this.deleteEvent} >\r\n                                    Да\r\n                                </Button>\r\n                                <Button color=\"primary\" className=\"confirm-delete-no\" variant=\"contained\"\r\n                                    onClick={() => { document.getElementById(\"confirm-delete\").style.display = 'none' }} >\r\n                                    Нет\r\n                                </Button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div id=\"no-rules\" className=\"confirm-delete\" style={{ display: 'none' }}>\r\n                        <div className=\"confirm-delete-window\">\r\n                            <h3>Вы увернны, что хотите удалить данное событие безвозвратно?</h3>\r\n                            <div className=\"confirm-delete-btns\">\r\n\r\n                                <Button color=\"primary\" className=\"confirm-delete-no\" variant=\"contained\"\r\n                                    onClick={() => { document.getElementById(\"no-rules\").style.display = 'none' }} >\r\n                                    Нет\r\n                                </Button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            );\r\n        } else {\r\n            return (\r\n                <div className=\"no-access\">\r\n                    Событие не существует<br />/недоступно для вас\r\n                </div>\r\n            );\r\n        }\r\n\r\n    }\r\n\r\n}","import React from \"react\"\r\n\r\nexport default class IconsGrid extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            selectedElement: document.getElementById(\"bell.svg\"),\r\n            selected: \"bell.svg\"\r\n        };\r\n        console.log(this.state.selectedElement);\r\n        this.selectChanged = this.selectChanged.bind(this);\r\n    }\r\n\r\n    selectChanged(select) {\r\n        this.props.changeIcon(select);\r\n\r\n        if (this.state.selectedElement)\r\n            this.state.selectedElement.style.border = '5px solid rgba(0,0,0,0)'\r\n\r\n        let el = document.getElementById(select);\r\n        this.setState({\r\n            selected: select,\r\n            selectedElement: el\r\n        });\r\n        el.style.border = '5px solid rgba(200,42,42,1)';\r\n        el.style.borderRadius = '25%';\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"flex-center\">\r\n                <div id=\"icons-grid\" className=\"icons-grid\">\r\n                    <div id=\"bell.svg\" onClick={() => this.selectChanged(\"bell.svg\")}><img src=\"/load_icon/bell.svg\" alt=\"1\" /></div>{/*onClick={this.selectChanged(\"bell.svg\")}/>*/}\r\n                    <div id=\"burger.svg\" onClick={() => this.selectChanged(\"burger.svg\")}><img src=\"/load_icon/burger.svg\" alt=\"2\" /></div>{/*onClick={this.selectChanged(\"burger.svg\")}/>*/}\r\n                    <div id=\"cart.svg\" onClick={() => this.selectChanged(\"cart.svg\")}><img src=\"/load_icon/cart.svg\" alt=\"3\" /></div>{/*onClick={this.selectChanged(\"cart.svg\")}/>*/}\r\n                    <div id=\"coctail.svg\" onClick={() => this.selectChanged(\"coctail.svg\")}><img src=\"/load_icon/coctail.svg\" alt=\"4\" /></div>{/*onClick={this.selectChanged(\"coctail.svg\")}/>*/}\r\n                    <div id=\"coffee.svg\" onClick={() => this.selectChanged(\"coffee.svg\")}><img src=\"/load_icon/coffee.svg\" alt=\"5\" /></div>{/*onClick={this.selectChanged(\"coffee.svg\")}/>*/}\r\n                    <div id=\"confirm.svg\" onClick={() => this.selectChanged(\"confirm.svg\")}><img src=\"/load_icon/confirm.svg\" alt=\"6\" /></div>{/*onClick={this.selectChanged(\"confirm.svg\")}/>*/}\r\n                    <div id=\"delete.svg\" onClick={() => this.selectChanged(\"delete.svg\")}><img src=\"/load_icon/delete.svg\" alt=\"7\" /></div>{/*onClick={this.selectChanged(\"delete.svg\")}/>*/}\r\n                    <div id=\"doughnut.svg\" onClick={() => this.selectChanged(\"doughnut.svg\")}><img src=\"/load_icon/doughnut.svg\" alt=\"8\" /></div>{/*onClick={this.selectChanged(\"doughnut.svg\")}/>*/}\r\n                    <div id=\"exit.svg\" onClick={() => this.selectChanged(\"exit.svg\")}><img src=\"/load_icon/exit.svg\" alt=\"9\" /></div>{/*onClick={this.selectChanged(\"exit.svg\")}/>*/}\r\n                    <div id=\"gamepad.svg\" onClick={() => this.selectChanged(\"gamepad.svg\")}><img src=\"/load_icon/gamepad.svg\" alt=\"10\" /></div>{/*onClick={this.selectChanged(\"gamepad.svg\")}/>*/}\r\n                    <div id=\"glasses.svg\" onClick={() => this.selectChanged(\"glasses.svg\")}><img src=\"/load_icon/glasses.svg\" alt=\"11\" /></div>{/*onClick={this.selectChanged(\"glasses.svg\")}/>*/}\r\n                    <div id=\"heart.svg\" onClick={() => this.selectChanged(\"heart.svg\")}><img src=\"/load_icon/heart.svg\" alt=\"12\" /></div>{/*onClick={this.selectChanged(\"heart.svg\")}/>*/}\r\n                    <div id=\"music.svg\" onClick={() => this.selectChanged(\"music.svg\")}><img src=\"/load_icon/music.svg\" alt=\"13\" /></div>{/*onClick={this.selectChanged(\"music.svg\")}/>*/}\r\n                    <div id=\"pin.svg\" onClick={() => this.selectChanged(\"pin.svg\")}><img src=\"/load_icon/pin.svg\" alt=\"14\" /></div>{/*onClick={this.selectChanged(\"pin.svg\")}/>*/}\r\n                    <div id=\"pizza.svg\" onClick={() => this.selectChanged(\"pizza.svg\")}><img src=\"/load_icon/pizza.svg\" alt=\"15\" /></div>{/*onClick={this.selectChanged(\"pizza.svg\")}/>*/}\r\n                    <div id=\"plus.svg\" onClick={() => this.selectChanged(\"plus.svg\")}><img src=\"/load_icon/plus.svg\" alt=\"16\" /></div>{/*onClick={this.selectChanged(\"plus.svg\")}/>*/}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport \"../css/CreateEvent.css\";\r\nimport Header from \"../components/Header\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconsGrid from \"../components/IconsGrid\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { RadioGroup, RadioButton, ReversedRadioButton } from 'react-radio-buttons';\r\n\r\nexport default class CreateEvent extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            type: \"single\",\r\n            event_name: \"Event_name\",\r\n            is_private: \"true\",\r\n            datetime: \"\" + this.props.match.params.day + \".\" + this.props.match.params.month + \".\" +\r\n            this.props.match.params.year + \" 15:30\",\r\n            address: \"Советский Союз\",\r\n            description: \"Desciption\",\r\n            icon: \"https://social-calendar-tensor.herokuapp.com/load_icon/bell.svg\"\r\n        };\r\n        this.privateChange = this.privateChange.bind(this);\r\n        this.typeChange = this.typeChange.bind(this);\r\n        this.sendNewEvent = this.sendNewEvent.bind(this);\r\n        this.nameChange = this.nameChange.bind(this);\r\n        this.addressChange = this.addressChange.bind(this);\r\n        this.descriptionChange = this.descriptionChange.bind(this);\r\n        this.changeSelectedIcon = this.changeSelectedIcon.bind(this);\r\n    }\r\n\r\n    sendNewEvent() {\r\n        console.log(this.state);\r\n        var bodyJSON = JSON.stringify({\r\n            \"type\": this.state.type,\r\n            \"name\": this.state.event_name,\r\n            \"is_private\": this.state.is_private,\r\n            \"datetime\": this.state.datetime,\r\n            \"address\": this.state.address,\r\n            \"description\": this.state.description,\r\n            \"icon\": this.state.icon\r\n        })\r\n        fetch(\"/event\", {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: bodyJSON\r\n        }).then((response) => {\r\n            if (response.ok) {\r\n                response.json().then((data) => {\r\n                    console.log(data);\r\n                    window.location.replace(\"https://127.0.0.1:5000/\")\r\n                    //return <Redirect push to={\"event/\" + data.$oid} /> не робит :(\r\n                })\r\n            } else {\r\n                console.log(response.statusText);\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    typeChange(event) {\r\n        this.setState({ type: event });\r\n    }\r\n    privateChange(event) {\r\n        this.setState({ is_private: event });\r\n    }\r\n    nameChange(event) {\r\n        this.setState({ event_name: event.target.value });\r\n    }\r\n    addressChange(event) {\r\n        this.setState({ address: event.target.value });\r\n    }\r\n    descriptionChange(event) {\r\n        this.setState({ description: event.target.value });\r\n    }\r\n\r\n    changeSelectedIcon(newicon) {\r\n        this.setState({ icon: \"https://social-calendar-tensor.herokuapp.com/load_icon/\" + newicon });\r\n        console.log(\"сработала смена иконки \" + this.state.icon);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"page-container-event\">\r\n                <Header />\r\n                <main className=\"create-event\">\r\n                    <div className=\"create-event-grid\">\r\n                        <IconsGrid changeIcon={this.changeSelectedIcon} />\r\n                        <h4 className=\"create-event-title left-column-title\">Название</h4>\r\n                        <input className=\"create-event-title-input create-event-input\" type=\"text\"\r\n                            value={this.state.event_name} onChange={this.nameChange} />\r\n\r\n                        <h4 className=\"create-event-type left-column-title\">Тип события</h4>\r\n                        <RadioGroup onChange={this.typeChange} horizontal>\r\n                            <ReversedRadioButton className=\"radio-button-create-event\" value=\"group\" >\r\n                                Групповой\r\n                            </ReversedRadioButton>\r\n                            <ReversedRadioButton className=\"radio-button-create-event\" value=\"single\" >\r\n                                Одиночный\r\n                            </ReversedRadioButton>\r\n                        </RadioGroup>\r\n\r\n                        <h4 className=\"create-event-isPrivate left-column-title\">Приватный</h4>\r\n                        <RadioGroup onChange={this.privateChange} horizontal>\r\n                            <ReversedRadioButton className=\"radio-button-create-event\" value={\"true\"} >\r\n                                Да\r\n                            </ReversedRadioButton>\r\n                            <ReversedRadioButton className=\"radio-button-create-event\" value={\"false\"} >\r\n                                Нет\r\n                            </ReversedRadioButton>\r\n                        </RadioGroup>\r\n\r\n                        <h4 className=\"create-event-Address left-column-title\">Адрес</h4>\r\n                        <input className=\"create-event-Address-input create-event-input\" type=\"text\"\r\n                            value={this.state.address} onChange={this.addressChange} />\r\n\r\n                        <h4 className=\"create-event-descr left-column-title\">Описание</h4>\r\n                        <input className=\"create-event-descr-input create-event-input\" type=\"text\"\r\n                            value={this.state.description} onChange={this.descriptionChange} />\r\n                    </div>\r\n                    <Button color=\"primary\" className=\"settings-btn create-button\" variant=\"contained\" onClick={this.sendNewEvent}>\r\n                        Создать событие\r\n                    </Button>\r\n\r\n                </main>\r\n            </div>\r\n        );\r\n\r\n\r\n    }\r\n\r\n}","import React from \"react\";\r\nimport \"../css/Login.css\"\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\n\r\nexport default class Login extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            isAuth: false\r\n        }\r\n\r\n        fetch(`/invites`).then((response) => {\r\n            if (response.ok) {\r\n                this.setState({\r\n                    isAuth: response.headers.get('Auth')\r\n                });\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    signIn() {\r\n        window.location.replace(\"https://127.0.0.1:5000/login\")\r\n    }\r\n\r\n    render() {\r\n        if (this.state.isAuth) {\r\n            return <Redirect to='/Calendar' />\r\n        } else {\r\n            return (\r\n                <div className=\"wrap-index-main\">\r\n                    <div className=\"main\">\r\n                        <div className=\"title\">Social Calendar</div>\r\n                        <button className=\"google-auth-button\" onClick={this.signIn} />\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport \"../css/EventIcon.css\"\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default class EventIcon extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            eventID: props.eventID,\r\n            name: props.name,\r\n            icon: props.icon,\r\n            time: props.time\r\n        };\r\n    }\r\n\r\n    toggleInfo(hidden) {\r\n        this.info.hidden = hidden;\r\n    }\r\n\r\n    render() {\r\n        let eventId = typeof this.state.eventID === \"object\"\r\n            ? this.state.eventID[\"$oid\"]\r\n            : this.state.eventID;\r\n        // let eventIcon = typeof this.state.icon === \"object\"\r\n        //     ? this.state.icon[\"$oid\"]\r\n        //     : this.state.icon;\r\n\r\n        return (\r\n            <div>\r\n                {this.state.icon ?\r\n                    <Link to={\"/Event/\" + eventId}>\r\n                        <img className=\"event-icon\" src={this.state.icon} alt=\".\"\r\n                            onMouseEnter={() => this.toggleInfo(false)}\r\n                            onMouseLeave={() => this.toggleInfo(true)} />\r\n                    </Link>\r\n                    : ''}\r\n\r\n                <div className=\"event-info\" hidden ref={ref => this.info = ref}>\r\n                    {this.state.name} <br /> {this.state.time}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from \"react\";\r\nimport \"../css/Day.css\"\r\nimport EventIcon from \"./EventIcon\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default class Day extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            events: (props.events && props.events.length !== 0) ? props.events : null,\r\n            updateEventListData: props.updateEventListData ? props.updateEventListData : null,\r\n            month: props.month,\r\n            year: props.year,\r\n        };\r\n\r\n        this.updateEvents = this.updateEvents.bind(this);\r\n    }\r\n\r\n    updateEvents(events) {\r\n        this.setState({\r\n            events: (events && events.length !== 0) ? events : null,\r\n            // updateEventListData: this.state.updateEventListData,\r\n            // month: this.state.month,\r\n            // year: this.state.year\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const style = {\r\n            opacity: this.props.hidden ? 0.4 : 0.92,\r\n        };\r\n        let icons;\r\n\r\n        let options = {\r\n            year: 'numeric',\r\n            month: 'long',\r\n            day: 'numeric',\r\n            weekday: 'long',\r\n            hour: 'numeric',\r\n            minute: 'numeric',\r\n        };\r\n\r\n        if (this.state.events) {\r\n            icons = this.state.events.map((val) => <EventIcon key={val.id}\r\n                eventID={val.id}\r\n                name={val.name}\r\n                time={new Date(val.datetime.$date).toLocaleString(\"ru\", options)}\r\n                icon={val.icon} />);\r\n        }\r\n\r\n\r\n        return (\r\n            <div className=\"day-plate\" style={style}\r\n                onClick={() => {\r\n                    this.state.updateEventListData(this.state.events)\r\n                }}>\r\n                {this.props.day}\r\n                <div className=\"mini-events\">\r\n                    {this.state.events ? icons : \"\"}\r\n                    {this.props.hidden\r\n                        ? \"\"\r\n                        : <Link to={\"/CreateEvent/\" + this.state.year + \"/\" + this.state.month + \"/\" + this.props.day}>\r\n                            <img className=\"addEventButton\" src=\"/load_icon/plus.svg\"\r\n                                alt=\"+\" onClick={this.createEvent} />\r\n                        </Link>\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from \"react\";\r\nimport \"../css/Month.css\"\r\nimport Day from \"./Day\";\r\n\r\nexport default class Month extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.day = [];\r\n\r\n        this.state = {\r\n            countDays: monthDays(props.year, props.month),\r\n            firstDayOfWeek: firstWeekDay(props.year, props.month),\r\n            month: props.month,\r\n            year: props.year,\r\n            events: {},\r\n            userName: \"\",\r\n            userID: null\r\n        };\r\n\r\n        fetch(\"/user\").then((response) => {\r\n            if (response.ok) {\r\n                response.json().then((data) => {\r\n                    if (this.props.user == data.id) {\r\n                        this.setState({\r\n                            userID: null,\r\n                            userName: \"\",\r\n                        });\r\n                    }\r\n                    else\r\n                        this.setState({\r\n                            userID: data.id,\r\n                            userName: data.name,\r\n                        });\r\n                })\r\n            } else {\r\n                console.log(response.statusText);\r\n            }\r\n        });\r\n\r\n        this.updateMonthAndYear = this.updateMonthAndYear.bind(this);\r\n        this.updateEvents = this.updateEvents.bind(this);\r\n        this.getEvents = this.getEvents.bind(this);\r\n    }\r\n\r\n    prevMonth() {\r\n        let curMonth = this.state.month, curYear = this.state.year;\r\n\r\n        if (curMonth === 1) {\r\n            curYear--;\r\n            curMonth = 12;\r\n            this.updateMonthAndYear(curMonth, curYear);\r\n        } else {\r\n            curMonth--;\r\n            this.updateMonthAndYear(curMonth, curYear);\r\n        }\r\n    }\r\n\r\n    nextMonth() {\r\n        let curMonth = this.state.month, curYear = this.state.year;\r\n\r\n        if (curMonth === 12) {\r\n            curYear++;\r\n            curMonth = 1;\r\n            this.updateMonthAndYear(curMonth, curYear);\r\n        } else {\r\n            curMonth++;\r\n            this.updateMonthAndYear(curMonth, curYear);\r\n        }\r\n    }\r\n\r\n    prevYear() {\r\n        this.updateMonthAndYear(this.state.month, this.state.year - 1);\r\n    }\r\n\r\n    nextYear() {\r\n        this.updateMonthAndYear(this.state.month, this.state.year + 1);\r\n    }\r\n\r\n    updateMonthAndYear(month, year) {\r\n        this.setState({\r\n            countDays: monthDays(year, month),\r\n            firstDayOfWeek: firstWeekDay(year, month),\r\n            month: month,\r\n            year: year,\r\n            events: this.state.events\r\n        });\r\n        this.getEvents(month, year);\r\n    }\r\n\r\n    updateEvents(data) {\r\n        // console.log(data);\r\n        this.setState({\r\n            events: data\r\n        });\r\n\r\n        if (this.day) {\r\n            for (const [key, value] of Object.entries(data)) {\r\n                this.day[key].updateEvents(value);\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getEvents(this.state.month, this.state.year)\r\n    }\r\n\r\n    getEvents(month, year) {\r\n        fetch(`/events?month=${month}&year=${year}`).then((response) => {\r\n            if (response.ok) {\r\n                response.json().then((data) => {\r\n                    console.log(data);\r\n                    this.updateEvents(data);\r\n                })\r\n            } else {\r\n                console.log(response.statusText);\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const days = [], firstDay = this.state.firstDayOfWeek, countDays = this.state.countDays,\r\n            countDaysPrevMonth = this.state.month === 1 ? monthDays(this.state.year - 1, 12)\r\n                : monthDays(this.state.year, this.state.month - 1);\r\n        const months = [\"\", \"Январь\", \"Февраль\", \"Март\", \"Апрель\", \"Май\", \"Июнь\",\r\n            \"Июль\", \"Август\", \"Сентябрь\", \"Октябрь\", \"Ноябрь\", \"Декабрь\"];\r\n\r\n        //названия дней недели\r\n        for (let i = 0; i < 7; i++) {\r\n            days.push(<div className=\"day-name\" key={100 + i} />);\r\n        }\r\n\r\n        //предыдущий месяц\r\n        for (let i = 0; i < firstDay; i++) {\r\n            days.push(<Day key={-i} hidden={true} day={countDaysPrevMonth - firstDay + 1 + i}\r\n                events={null} month={this.state.month - 1}\r\n                year={this.state.month === 1 ? this.state.year - 1 : this.state.year} />)\r\n        }\r\n\r\n        //этот месяц\r\n        for (let i = 0; i < countDays; i++) {\r\n            days.push(<Day key={i + 1} hidden={false} day={i + 1}\r\n                events={this.state.events[i + 1]}\r\n                updateEventListData={this.props.updateEventListData} month={this.state.month}\r\n                year={this.state.year}\r\n                ref={ref => this.day[i + 1] = ref} />)\r\n        }\r\n\r\n        //след месяц\r\n        for (let i = 0; i < 42 - countDays - firstDay; i++) {\r\n            days.push(<Day key={countDays + i} hidden={true} day={i + 1} events={null} month={this.state.month}\r\n                year={this.state.month === 12 ? this.state.year + 1 : this.state.year} />)\r\n        }\r\n\r\n        return (\r\n            <div className=\"flex-col\">\r\n                <div className=\"wrap-year-month\">\r\n                    <div className=\"other-user-name month-year\">\r\n                        Календарь пользователя {this.state.userName}\r\n                    </div>\r\n                    <div className=\"month-year\">\r\n                        <button className=\"arrow-button\" onClick={() => this.prevMonth()}>{'<'}</button>\r\n                        {months[this.state.month]}\r\n                        <button className=\"arrow-button\" onClick={() => this.nextMonth()}>{'>'}</button>\r\n                    </div>\r\n\r\n                    <div className=\"month-year\">\r\n                        <button className=\"arrow-button\" onClick={() => this.prevYear()}>{'<'}</button>\r\n                        {this.state.year}\r\n                        <button className=\"arrow-button\" onClick={() => this.nextYear()}>{'>'}</button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"month-grid\">\r\n                    {days}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction monthDays(y, m) {   // full year and month in range 1-12\r\n    let leap = 0;\r\n    if (m === 2) {\r\n        if (y % 4 === 0) leap = 1;\r\n        if (y % 100 === 0) leap = 0;\r\n        if (y % 400 === 0) leap = 1;\r\n    }\r\n    return [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][m] + leap;\r\n}\r\n\r\nfunction firstWeekDay(y, m) {\r\n    return new Date(y, m - 1, 0).getDay();\r\n}","import React from \"react\";\r\nimport \"../css/EventList.css\"\r\n// import EventDetails from \"../components/EventDetails\"\r\n\r\n\r\nexport default class EventList extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            events: props.events\r\n        };\r\n    }\r\n\r\n    render() {\r\n        /*const listItems = this.state.events.map(\r\n            (val) => <EventDetails key={val.id} eventID={val.id} name={val.name}\r\n                time={val.datetime} icon={val.icon} address={val.address} description={val.description}\r\n                type={val.type}/>);*/\r\n        return (\r\n            \r\n            <div className=\"events-area\">\r\n                <ol className=\"events-list\">\r\n                </ol>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from \"react\";\r\nimport Header from \"../components/Header\";\r\nimport Month from \"../components/Month\";\r\nimport EventList from \"../components/EventList\";\r\nimport \"../css/Calendar.css\"\r\n\r\nexport default class Calendar extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        const curDate = new Date();\r\n        this.state = {\r\n            curYear: curDate.getFullYear(),\r\n            curMonth: curDate.getMonth() + 1\r\n        };\r\n    }\r\n\r\n    updateEventListData = (value) => {\r\n        this.setState({ eventsInEventsList: value })\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"page-container\">\r\n                <Header />\r\n                <div className=\"flex-row calendar-main\">\r\n                    <Month year={this.state.curYear} month={this.state.curMonth} updateEventListData={this.updateEventListData}\r\n                        user={this.props.match.params.id} />\r\n                    <EventList events={this.state.eventsInEventsList} />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from \"react\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport Friends from \"./pages/Friends\";\r\nimport Dialogues from \"./pages/Dialogues\";\r\nimport Event from \"./pages/Event\";\r\nimport CreateEvent from \"./pages/CreateEvent\";\r\nimport Login from \"./pages/Login\"\r\nimport Calendar from \"./pages/Calendar\"\r\n\r\nexport default class Routing extends React.Component {\r\n    render() {\r\n        return (\r\n            <Router>\r\n                <Switch>\r\n                    <Route path=\"/Calendar/:id\" component={Calendar} />\r\n                    <Route path=\"/Calendar\" component={Calendar} />\r\n                    <Route path=\"/Event/:id\" component={Event} />\r\n                    <Route path=\"/Event\" component={Event} />\r\n                    <Route path=\"/CreateEvent/:year/:month/:day\" component={CreateEvent} />\r\n                    <Route path=\"/Dialogues/:id\" component={Dialogues} /> \r\n                    <Route path=\"/Dialogues\" component={Dialogues} />\r\n                    <Route path=\"/Friends\" component={Friends} />\r\n\r\n                    {/* Новые страницы впихивать перед этим комментом   */}\r\n                    <Route path=\"/\" component={Login} />\r\n                </Switch>\r\n            </Router>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Routing from './App';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nReactDOM.render(<Routing/>, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}